<ScreenManagement>:
    transition: NoTransition()


<NavLabel>:
    padding_x: dp(1)
    size_hint_x: None
    width: self.texture_size[0]
    height: self.texture_size[1]
    markup: False
    disabled: False
    valign: 'middle'
    halign: 'left'


<NavCloseIcon>:
    icon: 'close'
    theme_text_color: 'Custom'
    padding: (0, 0)
    pos_hint: {"center_x": .5, "center_y": .5}
    size_hint: None, None
    size: (app.nav_height - dp(6), app.nav_height - dp(2))
    font_size: '22sp'


<NavBaseRectangularButton>:

    canvas:
        Clear
        Color:
            rgba: self._current_button_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: (root._radius, )


<NavButtonBase>:
    md_bg_color: app.theme_cls.primary_color if self.selected else app.theme_cls.primary_dark
    theme_text_color: 'Custom'
    text_color: root.specific_text_color if self.selected else root.specific_secondary_text_color


<NavButtonActive>:
    lbl_txt: lbl_txt
    lbl_icn_left: lbl_icn_left
    height: app.nav_height
    width: lbl_txt.texture_size[0] + lbl_icn_left.texture_size[0] + root.increment_width
    padding: (0, 0)
    theme_text_color: 'Primary' if not root.text_color else 'Custom'
    markup: False

    BoxLayout:
        padding: dp(1)
        spacing: dp(0)

        NavIcon:
            id: lbl_icn_left
            icon: root.icon
            theme_text_color: 'Custom'
            text_color: app.theme_cls.primary_color if not root.text_color else root.text_color
            size_hint_x: None
            width: self.texture_size[0]
            font_size: sp(root.icon_left_size)
            on_press: root.on_action_area_pressed()

	    NavLabel:
	        id: lbl_txt
		    text: root.text if root.button_label else ''
		    font_size: sp(root.font_size)
		    font_name: root.font_name if root.font_name is not None else self.font_name
		    can_capitalize: root.can_capitalize
		    text_size: (None, root.height)
		    theme_text_color: root.theme_text_color
		    text_color: root.text_color
		    opposite_colors: root.opposite_colors
            on_press: root.on_action_area_pressed()


<NavButtonClosable>:
    lbl_txt: lbl_txt
    lbl_icn_left: lbl_icn_left
    lbl_icn_right: lbl_icn_right
    height: app.nav_height
    width: lbl_txt.texture_size[0] + lbl_icn_left.texture_size[0] + lbl_icn_right.width + root.increment_width
    padding: (0, 0)
    theme_text_color: 'Primary' if not root.text_color else 'Custom'
    markup: False

    BoxLayout:
        padding: dp(1)
        spacing: dp(0)

        NavIcon:
            id: lbl_icn_left
            icon: root.icon
            theme_text_color: 'Custom'
            text_color: app.theme_cls.primary_color if not root.text_color else root.text_color
            size_hint_x: None
            width: self.texture_size[0]
            font_size: sp(root.icon_left_size)
            on_press: root.on_action_area_pressed()

	    NavLabel:
	        id: lbl_txt
		    text: root.text if root.button_label else ''
		    font_size: sp(root.font_size)
		    font_name: root.font_name if root.font_name is not None else self.font_name
		    can_capitalize: root.can_capitalize
		    text_size: (None, root.height)
		    theme_text_color: root.theme_text_color
		    text_color: root.text_color
		    opposite_colors: root.opposite_colors
            on_press: root.on_action_area_pressed()

        NavCloseIcon:
            id: lbl_icn_right
		    text_color: app.theme_cls.primary_color if not root.text_color else root.text_color
        	on_press: root.on_close_area_pressed()
