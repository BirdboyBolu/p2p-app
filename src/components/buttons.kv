<CustomRectangularButton>:
    canvas:
        Clear
        Color:
            rgba: self.md_bg_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: (root._radius, )

    lbl_txt: lbl_txt
    height: dp(36) if not root._height else root._height
    width: lbl_txt.texture_size[0] + root.increment_width
    padding: (dp(8), 0)
    theme_text_color: 'Primary' if not root.text_color else 'Custom'
    markup: False

    MDLabel:
        id: lbl_txt
        text: root.text if root.button_label else ''
        font_size: root.font_size
        can_capitalize: root.can_capitalize
        size_hint_x: None
        text_size: (None, root.height)
        height: self.texture_size[1]
        theme_text_color: root.theme_text_color
        text_color: root.text_color
        markup: root.markup
        disabled: root.disabled
        valign: 'middle'
        halign: root.text_halign
        opposite_colors: root.opposite_colors


<CustomRoundButton>:
    canvas:
        Clear
        Color:
            rgba: self.md_bg_color if md_icon(root.icon) else (0, 0, 0, 0)
        Ellipse:
            size: self.size
            pos: self.pos
            source: self.source if hasattr(self, "source") else ""

    size:
        (dp(48), dp(48)) \
        if not root.user_font_size \
        else (dp(root.user_font_size + root.increment_diameter), dp(root.user_font_size + root.increment_diameter))
    padding: dp(12) if md_icon(root.icon) else 0
    lbl_txt: lbl_txt
    theme_text_color: 'Primary'

    CustomIcon:
        id: lbl_txt
        icon: root.icon
        font_size:
            root.user_font_size \
            if root.user_font_size \
            else self.font_size
        font_name: root.font_name if root.font_name else self.font_name
        theme_text_color: root.theme_text_color
        text_color: root.text_color
        disabled: root.disabled
        valign: 'middle'
        halign: 'center'
        opposite_colors: root.opposite_colors


<CustomRectangularIconButton>:
    canvas:
        Clear
        Color:
            rgba: self.md_bg_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: (root._radius, )

    lbl_txt: lbl_txt
    size: dp(36), dp(36)
    padding: dp(0)
    theme_text_color: 'Primary'
    markup: False

    CustomIcon:
        id: lbl_txt
        icon: root.icon
        font_size: root.font_size
        font_name: root.font_name if root.font_name else self.font_name
        padding: (dp(0), dp(0))
        size_hint_x: None
        text_size: (None, root.height)
        theme_text_color: root.theme_text_color
        text_color: root.text_color
        disabled: root.disabled
        valign: 'middle'
        halign: 'center'
        opposite_colors: root.opposite_colors


<CustomFlatButton>:
    font_size: sp(16)


<CustomRaisedButton>:
    md_bg_color: app.theme_cls.primary_color
    theme_text_color: 'Custom'
    text_color: root.specific_text_color
    elevation_normal: 0
    elevation_raised: 0
    font_size: sp(16)


<CustomFloatingActionButton>:
    md_bg_color: app.theme_cls.accent_color
    theme_text_color: 'Custom'
    text_color: root.specific_text_color
    button_size: '32dp'
    user_font_size: '20sp'

    canvas:
        Clear
        Color:
            rgba:
                (self.md_bg_color if root.icon in md_icons else (0, 0, 0, 0)) \
                if not root.disabled else \
                (root.md_bg_color_disabled if root.md_bg_color_disabled \
                else root.theme_cls.disabled_hint_text_color)
        Ellipse:
            size: self.size
            pos: self.pos
            source: self.source if hasattr(self, "source") else ""

    lbl_txt: lbl_txt
    padding: "0dp" if root.icon in md_icons else (0, 0, 0, 0)

    MDIcon:
        id: lbl_txt
        icon: root.icon
        font_size: root.user_font_size if root.user_font_size else self.font_size
        font_name: root.font_name if root.font_name else self.font_name
        theme_text_color: root.theme_text_color
        text_color:
            root.text_color if not root.disabled else \
            (root.md_bg_color_disabled if root.md_bg_color_disabled \
            else root.theme_cls.disabled_hint_text_color)
        disabled: root.disabled
        valign: "middle"
        halign: "center"
        opposite_colors: root.opposite_colors


<RoundedButton>:
    _radius: 8
    increment_width: dp(20)
    markup: True


<RoundedFlexWidthButton>:


<RoundedFlexHeightButton>:


<RoundedFlexButton>:


<IconButton>:
    md_bg_color: app.color_transparent
    theme_text_color: 'Custom'
    text_color: app.color_black
    button_size: '28dp'
    user_font_size: '14sp'
    always_release: True

    canvas:
        Clear
        Color:
            rgba:
                (self.md_bg_color if root.icon in md_icons else (0, 0, 0, 0)) \
                if not root.disabled else \
                (root.md_bg_color_disabled if root.md_bg_color_disabled \
                else root.theme_cls.disabled_hint_text_color)
        Ellipse:
            size: self.size
            pos: self.pos
            source: self.source if hasattr(self, "source") else ""

    size: "28dp", "28dp"
    lbl_txt: lbl_txt
    padding: "0dp" if root.icon in md_icons else (0, 0, 0, 0)

    MDIcon:
        id: lbl_txt
        icon: root.icon
        font_size: root.user_font_size if root.user_font_size else self.font_size
        font_name: root.font_name if root.font_name else self.font_name
        theme_text_color: root.theme_text_color
        text_color:
            root.text_color if not root.disabled else \
            (root.md_bg_color_disabled if root.md_bg_color_disabled \
            else root.theme_cls.disabled_hint_text_color)
        disabled: root.disabled
        valign: "middle"
        halign: "center"
        opposite_colors: root.opposite_colors


<RaisedIconButton>:
    md_bg_color: app.theme_cls.primary_color
    theme_text_color: 'Custom'
    text_color: root.specific_text_color
    elevation_normal: 0
    elevation_raised: 0


<CustomIconButton>:
    icon: 'circle'


<CloseIconButton>:
    icon: 'close'


<CustomRaisedIconButton>:
    icon: 'circle'
    theme_text_color: 'Primary'
    opposite_colors: True
    pos_hint: {"center_x": .5, "center_y": .5}
    font_size: sp(22)
