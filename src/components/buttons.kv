#:import make_icon components.webfont.make_icon
#:import md_icon components.webfont.md_icon

# <-MDFloatingActionButton>:


# <-BaseButton>:


<CustomRectangularButton>:
    canvas:
        Clear
        Color:
            rgba: self.md_bg_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: (root._radius, )

    lbl_txt: lbl_txt
    height: dp(36) if not root._height else root._height
    width: lbl_txt.texture_size[0] + root.increment_width
    padding: (dp(8), 0)
    theme_text_color: 'Primary' if not root.text_color else 'Custom'
    markup: False

    BaseLabel:
        id: lbl_txt
        text: root.text if root.button_label else ''
        font_size: root.font_size
        can_capitalize: root.can_capitalize
        size_hint_x: None
        text_size: (None, root.height)
        height: self.texture_size[1]
        theme_text_color: root.theme_text_color
        text_color: root.text_color
        markup: root.markup
        disabled: root.disabled
        valign: 'middle'
        halign: root.text_halign
        opposite_colors: root.opposite_colors


<CustomRoundButton>:
    canvas.before:
        Color:
            rgba: (1,.7,.7,1)
        Rectangle:
            pos: self.pos
            size: self.size

    canvas:
        Clear
        Color:
            rgba: self.md_bg_color if md_icon(root.icon) else (0, 0, 0, 0)
        Ellipse:
            size: self.size
            pos: self.pos
            source: self.source if hasattr(self, "source") else ""

    lbl_txt: lbl_txt
    size: (self.fixed_width or dp(48), self.fixed_height or dp(48))
    padding: self.icon_padding if md_icon(root.icon) else 0
    theme_text_color: 'Primary'

    CustomIcon:
        id: lbl_txt
        size_hint: 1, 1
        icon: root.icon
        font_size: root.user_font_size if root.user_font_size else self.font_size
        font_name: root.font_name if root.font_name else self.font_name
        color: root.text_color if root.text_color is not None else app.color_white
        disabled: root.disabled
        valign: 'middle'
        halign: 'center'
        opposite_colors: root.opposite_colors


<CustomRectangularIconButton>:
    canvas:
        Clear
        Color:
            rgba: self.md_bg_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: (root._radius, )

    lbl_txt: lbl_txt
    size: dp(36), dp(36)
    padding: dp(0)
    theme_text_color: 'Primary'
    markup: False

    CustomIcon:
        id: lbl_txt
        icon: root.icon
        font_size: root.font_size
        font_name: root.font_name if root.font_name else self.font_name
        color: root.text_color if root.text_color is not None else app.color_white
        disabled: root.disabled
        valign: 'middle'
        halign: 'center'
        opposite_colors: root.opposite_colors


<CustomFlatButton>:
    height: self.fixed_height if self.fixed_height is not None else self.height
    font_size: sp(16)


<CustomRaisedButton>:
    md_bg_color: app.theme_cls.primary_color
    theme_text_color: 'Custom'
    text_color: root.specific_text_color
    elevation_normal: 0
    elevation_raised: 0
    font_size: sp(16)


<CustomFloatingActionButton>:
    canvas:
        Clear
        Color:
            rgba:
                (self.md_bg_color if root.icon in md_icons else (0, 0, 0, 0)) \
                if not root.disabled else \
                (root.md_bg_color_disabled if root.md_bg_color_disabled \
                else root.theme_cls.disabled_hint_text_color)
        Ellipse:
            size: self.size
            pos: self.pos
            source: self.source if hasattr(self, "source") else ""

    lbl_txt: lbl_txt
    padding: "0dp" if root.icon in md_icons else (0, 0, 0, 0)
    md_bg_color: app.theme_cls.accent_color
    theme_text_color: 'Custom'
    text_color: app.theme_cls.primary_color
    user_font_size: '20sp'

    CustomIcon:
        id: lbl_txt
        icon: root.icon
        icon_pack: root.icon_pack
        icon_width: root.button_size
        icon_height: root.button_size
        font_size: root.user_font_size if root.user_font_size else self.font_size
        font_name: root.font_name if root.font_name else self.font_name
        color:
            root.text_color if not root.disabled else \
            (root.md_bg_color_disabled if root.md_bg_color_disabled \
            else root.theme_cls.disabled_hint_text_color)
        disabled: root.disabled
        valign: "middle"
        halign: "center"
        opposite_colors: root.opposite_colors


<RoundedButton>:
    _radius: 8
    increment_width: dp(20)
    markup: True


<RoundedFlexWidthButton>:


<RoundedFlexHeightButton>:


<RoundedFlexButton>:


<CustomIconButton>:
    size_hint: None, None
    size: self.button_width, self.button_height
    text_size: self.size
    valign: 'middle'
    halign: 'center'
    pos_hint: {"center_x": .5, "center_y": .5}
    color: app.color_black
    background_color: app.color_white
    background_normal: ''
    background_down: ''
    background_disabled_normal: ''
    background_disabled_down: ''
    markup: True
    text: make_icon(self.icon, self.icon_pack)


<TransparentIconButton>:
    background_color: app.color_transparent


<RaisedIconButton>:
    md_bg_color: app.theme_cls.primary_color
    theme_text_color: 'Custom'
    text_color: root.specific_text_color
    elevation_normal: 0
    elevation_raised: 0


<CloseIconButton>:
    icon: 'close'


<CustomRaisedIconButton>:
    icon: 'circle'
    theme_text_color: 'Primary'
    opposite_colors: True
    pos_hint: {"center_x": .5, "center_y": .5}
    font_size: sp(22)
