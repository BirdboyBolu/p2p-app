<ScreenManagement>:
    transition: NoTransition()


<NavButton>:
    spacing: 0
    padding: 0
    cols: 1
    rows: 1
    size_hint: None, None
    width: self.minimum_width
    height: 29

    Button:
        width: self.texture_size[0] + 18
        height: 29
        size_hint: None, None
        corner_radius: 2
        markup: True
        background_color: 0,0,0,0
        color: 1,1,1,1
        disabled_color: .8,.8,.8,1
        background_disabled_normal: ''
        bg_normal: .1,.5,.8,1
        bg_pressed: .2,.6,.9,1
        bg_disabled: .3,.3,.3,1
        bg_normal_delta: .1
        bg_disabled_delta: .1

        canvas.before:
            Color:
                rgba: self.bg_normal if (self.state == 'normal' and not root.selected) else self.bg_pressed 
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [self.corner_radius+1, self.corner_radius+1, self.corner_radius+1, self.corner_radius+1, ]
            Color:
                rgba: (self.bg_normal[0]+self.bg_normal_delta,self.bg_normal[1]+self.bg_normal_delta,self.bg_normal[2]+self.bg_normal_delta,1) if (self.state == 'normal' and not root.selected) else (self.bg_pressed[0]+self.bg_normal_delta,self.bg_pressed[1]+self.bg_normal_delta,self.bg_pressed[2]+self.bg_normal_delta,1)
            RoundedRectangle:
                pos: self.pos[0]+2, self.pos[1]+2
                size: self.size[0]-4, self.size[1]-4
                radius: [self.corner_radius, self.corner_radius, self.corner_radius, self.corner_radius, ]

        font_size: 14
        text: root.nav_btn_text
        on_press: root.on_action_area_pressed()


<NavClosableButton>:
    spacing: 0
    padding: 0
    cols: 2
    rows: 1
    size_hint: None, None
    width: self.minimum_width
    height: 29

    Button:
        width: self.texture_size[0] + 14
        height: 29
        size_hint: None, None
        corner_radius: 2
        markup: True
        background_color: 0,0,0,0
        color: 1,1,1,1
        disabled_color: .8,.8,.8,1
        background_disabled_normal: ''
        bg_normal: .1,.5,.8,1
        bg_pressed: .2,.6,.9,1
        bg_disabled: .3,.3,.3,1
        bg_normal_delta: .1
        bg_disabled_delta: .1

        canvas.before:
            Color:
                rgba: self.bg_normal if (self.state == 'normal' and not root.selected) else self.bg_pressed 
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [self.corner_radius+1, 0, 0, self.corner_radius+1, ]
            Color:
                rgba: (self.bg_normal[0]+self.bg_normal_delta,self.bg_normal[1]+self.bg_normal_delta,self.bg_normal[2]+self.bg_normal_delta,1) if (self.state == 'normal' and not root.selected) else (self.bg_pressed[0]+self.bg_normal_delta,self.bg_pressed[1]+self.bg_normal_delta,self.bg_pressed[2]+self.bg_normal_delta,1)
            RoundedRectangle:
                pos: self.pos[0]+2, self.pos[1]+2
                size: self.size[0]-2, self.size[1]-4
                radius: [self.corner_radius, 0, 0, self.corner_radius, ]

        font_size: 16
        text: root.nav_btn_text
        on_press: root.on_action_area_pressed()

    Button:
        width: 21
        height: 29
        size_hint: None, None
        corner_radius: 2
        markup: True
        background_color: 0,0,0,0
        color: .3,.7,1,1
        disabled_color: .8,.8,.8,1
        background_disabled_normal: ''
        bg_normal: .1,.5,.8,1
        bg_pressed: .2,.6,.9,1
        bg_disabled: .3,.3,.3,1
        bg_normal_delta: 0
        bg_disabled_delta: .1

        canvas.before:
            Color:
                rgba: self.bg_normal 
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [0, self.corner_radius+1, self.corner_radius+1, 0, ]
            Color:
                rgba: (self.bg_normal[0]+self.bg_normal_delta,self.bg_normal[1]+self.bg_normal_delta,self.bg_normal[2]+self.bg_normal_delta,1) if self.state == 'normal' else (self.bg_pressed[0]+self.bg_normal_delta,self.bg_pressed[1]+self.bg_normal_delta,self.bg_pressed[2]+self.bg_normal_delta,1)
            RoundedRectangle:
                pos: self.pos[0]+2, self.pos[1]+2
                size: self.size[0]-4, self.size[1]-4
                radius: [0, self.corner_radius, self.corner_radius, 0, ]

        font_size: 16
        text: fa_icon('times')
        on_release: root.on_close_area_pressed()
